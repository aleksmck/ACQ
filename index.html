<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aleksandra's Cracow Quest</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Landing Page -->
    <div class="landing-page">
        <div class="landing-box">
            <h1>Aleksandra's Cracow Quest</h1>
            <p>Uncover, Explore, Win!</p>
            <button id="start-game">Meow meow MEOW!</button>
        </div>
    </div>

    <!-- Game Page (Hidden by default) -->
    <div class="game-board hidden">
        <div class="grid-section">
            <h2>Małe Chrup</h2>
            <div class="grid-container">
                <div class="grid-item" data-row="0" data-col="0">Piekarnia Zaczyn - <a href="https://www.instagram.com/zaczyn.piekarnia/">link</a></div>
                <div class="grid-item" data-row="0" data-col="1">Zapiekanki - <a href="https://g.co/kgs/DdKVeLZ">link</a></div>
                <div class="grid-item" data-row="0" data-col="2">Fokarnia - <a href="https://www.instagram.com/fokarnia_focacceria/">link</a></div>
                <div class="grid-item" data-row="0" data-col="3">Kluska na placu - <a href="https://www.instagram.com/kluska_krakow/">link</a></div>
            </div>
        </div>

        <div class="grid-section">
            <h2>Duże Chrup</h2>
            <div class="grid-container">
                <div class="grid-item" data-row="1" data-col="0">Ciao Pasta Bar - <a href="https://www.instagram.com/ciao.pastabar/">link</a></div>
                <div class="grid-item" data-row="1" data-col="1">Bibimbar - <a href="https://www.instagram.com/bibimbar69/">link</a></div>
                <div class="grid-item" data-row="1" data-col="2">En Plato - <a href="https://www.facebook.com/enplatopizzapasta/">link</a></div>
                <div class="grid-item" data-row="1" data-col="3">shhhh! secret!</div>
            </div>
        </div>

        <div class="grid-section">
            <h2>Słodko</h2>
            <div class="grid-container">
                <div class="grid-item" data-row="2" data-col="0">Mak Bread - <a href="https://www.instagram.com/mak_bread_coffee/?hl=en">link</a></div>
                <div class="grid-item" data-row="2" data-col="1">Sweetheart - <a href="https://www.instagram.com/sweetheart_krakow/?locale=no">link</a></div>
                <div class="grid-item" data-row="2" data-col="2">Cricoteka - <a href="https://www.instagram.com/freshcoffeeplace/?hl=en">link</a></div>
                <div class="grid-item" data-row="2" data-col="3">Megiddo - <a href="https://www.instagram.com/megiddo.cafe.bakery/?hl=en">link</a></div>
            </div>
        </div>

        <div class="grid-section">
            <h2>Spacerkowo</h2>
            <div class="grid-container">
                <div class="grid-item" data-row="3" data-col="0">Wzdłuż Wisły</div>
                <div class="grid-item" data-row="3" data-col="1">Ogrody Szymborskiej</div>
                <div class="grid-item" data-row="3" data-col="2">Stare Miasto</div>
                <div class="grid-item" data-row="3" data-col="3">Smok!</div>
            </div>
        </div>

        <!-- Reset Game Button -->
        <button id="reset-game">Reset Game</button>
    </div>

    <!-- Popup for winning messages -->
    <div id="popup" class="hidden">
        <p id="popup-text"></p>
        <button id="close-popup">Close</button>
    </div>

    <script>
        // Switch from landing page to game
        document.getElementById('start-game').addEventListener('click', function () {
            document.querySelector('.landing-page').style.display = 'none';
            document.querySelector('.game-board').classList.remove('hidden');
        });

        // Placeholder for game logic and popup handling
        let gridItems = document.querySelectorAll('.grid-item');
        let gridState = Array(4).fill(null).map(() => Array(4).fill(false));
        let prizesWon = 0;

        const winMessages = [
            "You won baby prize! Play more to find out what's the next prize",
            "Whoa Lady! You rock! Ask Aleks for Your present!",
            "Okey okey chill GIRL! Now Aleks will bankrupt",
            "You won special kiss... Ask Aleks!"
        ];

        const meowSound = new Audio('cat-meow.wav');

        gridItems.forEach(item => {
            item.addEventListener('click', function () {
                if (!item.classList.contains('clicked')) {
                    item.classList.add('clicked');
                    item.style.backgroundColor = "#4CAF50"; // Change color on click
                    let row = parseInt(item.getAttribute('data-row'));
                    let col = parseInt(item.getAttribute('data-col'));
                    gridState[row][col] = true;
                    meowSound.play(); // Play meow sound on click
                    checkForWin();
                }
            });
        });

        function checkForWin() {
            if (prizesWon < 4) {
                if (checkRows() || checkCols() || checkDiagonals()) {
                    showPopup(prizesWon);
                    prizesWon++;
                }
            }
        }

        function checkRows() {
            for (let i = 0; i < 4; i++) {
                if (gridState[i].every(val => val === true)) {
                    return true;
                }
            }
            return false;
        }

        function checkCols() {
            for (let col = 0; col < 4; col++) {
                if (gridState.every(row => row[col] === true)) {
                    return true;
                }
            }
            return false;
        }

        function checkDiagonals() {
            if (gridState[0][0] && gridState[1][1] && gridState[2][2] && gridState[3][3]) {
                return true; // First diagonal
            }
            if (gridState[0][3] && gridState[1][2] && gridState[2][1] && gridState[3][0]) {
                return true; // Second diagonal
            }
            return false;
        }

        function showPopup(winIndex) {
            document.getElementById('popup-text').innerText = winMessages[winIndex];
            document.getElementById('popup').classList.remove('hidden');
        }

        document.getElementById('close-popup').addEventListener('click', function () {
            document.getElementById('popup').classList.add('hidden');
        });

        document.getElementById('reset-game').addEventListener('click', function () {
            gridItems.forEach(item => {
                item.classList.remove('clicked');
                item.style.backgroundColor = "";
            });
            gridState = Array(4).fill(null).map(() => Array(4).fill(false));
            prizesWon = 0;
            document.getElementById('popup').classList.add('hidden');
        });
    </script>
</body>
</html>
